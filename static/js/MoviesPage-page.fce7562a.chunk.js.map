{"version":3,"sources":["components/SearchBar/SearchBar.js","components/pages/MoviesPage.js","services/api.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js"],"names":["SeacrhBar","state","value","handleChange","e","setState","target","handleSubmit","preventDefault","onSubmit","props","this","onChange","type","Component","Movies","movies","error","onSearch","query","API","then","res","data","results","location","history","push","search","catch","err","message","searchParams","URLSearchParams","get","match","length","map","movie","key","id","to","pathname","url","from","title","BASE_URL","API_KEY","imageURLBaseWidth200","imageURLBaseWidth300","fetchMostPopularMovies","axios","fetchMovieByQuery","fetchDetailsAboutMovie","fetchMovieCast","fetchMovieReviews","_defineProperty","obj","Object","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","apply","_objectSpread2","i","arguments","source","forEach","getOwnPropertyDescriptors","defineProperties"],"mappings":"6KAuCeA,E,4MA/BbC,MAAQ,CACNC,MAAO,I,EAGTC,aAAe,SAACC,GACd,EAAKC,SAAS,CACZH,MAAOE,EAAEE,OAAOJ,S,EAIpBK,aAAe,SAACH,GACdA,EAAEI,kBAGFC,EAFqB,EAAKC,MAAlBD,UACU,EAAKR,MAAfC,OAER,EAAKG,SAAS,CACZH,MAAO,M,uDAID,IACAA,EAAUS,KAAKV,MAAfC,MACR,OACE,0BAAMO,SAAUE,KAAKJ,cACnB,2BAAOL,MAAOA,EAAOU,SAAUD,KAAKR,eACpC,4BAAQU,KAAK,UAAb,e,GA9BgBC,aCGlBC,E,4MAmBJd,MAAQ,CACNe,OAAQ,GACRC,MAAO,M,EAYTC,SAAW,SAACC,GACVC,IAAsBD,GACnBE,MAAK,SAACC,GACL,EAAKjB,SAAS,CACZW,OAAQM,EAAIC,KAAKC,UAFN,MAIiB,EAAKd,MAA3Be,EAJK,EAILA,SAJK,EAIKC,QACVC,KAAR,2BACKF,GADL,IAEEG,OAAO,SAAD,OAAWT,SAGpBU,OAAM,SAACC,GAAD,OACL,EAAKzB,SAAS,CACZY,MAAOa,EAAIC,c,kEAvBE,IACXN,EAAad,KAAKD,MAAlBe,SAER,GAAIA,EAASG,OAAQ,CACnB,IAAMI,EAAe,IAAIC,gBAAgBR,EAASG,QAAQM,IAAI,SAC9DvB,KAAKO,SAASc,M,+BAuBR,IAAD,EACmBrB,KAAKV,MAAvBe,EADD,EACCA,OAAQC,EADT,EACSA,MADT,EAEqBN,KAAKD,MAAzByB,EAFD,EAECA,MAAOV,EAFR,EAEQA,SAEf,OACE,6BACE,kBAAC,EAAD,CAAWhB,SAAUE,KAAKO,WACzBD,GAAS,uDACTD,EAAOoB,OAAS,GACf,4BACGpB,EAAOqB,KAAI,SAACC,GAAD,OACV,wBAAIC,IAAKD,EAAME,IACb,kBAAC,IAAD,CACEC,GAAI,CACFC,SAAS,GAAD,OAAKP,EAAMQ,IAAX,YAAkBL,EAAME,IAChCvC,MAAO,CAAE2C,KAAK,eAAMnB,MAGrBa,EAAMO,iB,GAtEJ/B,aAiFNC,a,gCCvFf,mQAEM+B,EAAW,+BACXC,EAAU,mCAEHC,EAAuB,kCACvBC,EAAuB,kCAEvBC,EAAyB,WACpC,OAAOC,IAAMjB,IAAN,UAAaY,EAAb,uCAAoDC,KAGhDK,EAAoB,SAACjC,GAChC,OAAOgC,IAAMjB,IAAN,UACFY,EADE,iCAC+BC,EAD/B,kBACgD5B,KAI5CkC,EAAyB,SAACb,GACrC,OAAOW,IAAMjB,IAAN,UAAaY,EAAb,kBAA+BN,EAA/B,oBAA6CO,KAGzCO,EAAiB,SAACd,GAC7B,OAAOW,IAAMjB,IAAN,UAAaY,EAAb,kBAA+BN,EAA/B,4BAAqDO,KAGjDQ,EAAoB,SAACf,GAChC,OAAOW,IAAMjB,IAAN,UAAaY,EAAb,kBAA+BN,EAA/B,4BAAqDO,M,gCC3B/C,SAASS,EAAgBC,EAAKlB,EAAKrC,GAYhD,OAXIqC,KAAOkB,EACTC,OAAOC,eAAeF,EAAKlB,EAAK,CAC9BrC,MAAOA,EACP0D,YAAY,EACZC,cAAc,EACdC,UAAU,IAGZL,EAAIlB,GAAOrC,EAGNuD,ECVT,SAASM,EAAQC,EAAQC,GACvB,IAAIC,EAAOR,OAAOQ,KAAKF,GAEvB,GAAIN,OAAOS,sBAAuB,CAChC,IAAIC,EAAUV,OAAOS,sBAAsBH,GACvCC,IAAgBG,EAAUA,EAAQC,QAAO,SAAUC,GACrD,OAAOZ,OAAOa,yBAAyBP,EAAQM,GAAKV,eAEtDM,EAAKvC,KAAK6C,MAAMN,EAAME,GAGxB,OAAOF,EAGM,SAASO,EAAenE,GACrC,IAAK,IAAIoE,EAAI,EAAGA,EAAIC,UAAUvC,OAAQsC,IAAK,CACzC,IAAIE,EAAyB,MAAhBD,UAAUD,GAAaC,UAAUD,GAAK,GAE/CA,EAAI,EACNX,EAAQL,OAAOkB,IAAS,GAAMC,SAAQ,SAAUtC,GAC9C,EAAejC,EAAQiC,EAAKqC,EAAOrC,OAE5BmB,OAAOoB,0BAChBpB,OAAOqB,iBAAiBzE,EAAQoD,OAAOoB,0BAA0BF,IAEjEb,EAAQL,OAAOkB,IAASC,SAAQ,SAAUtC,GACxCmB,OAAOC,eAAerD,EAAQiC,EAAKmB,OAAOa,yBAAyBK,EAAQrC,OAKjF,OAAOjC,E","file":"static/js/MoviesPage-page.fce7562a.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nclass SeacrhBar extends Component {\r\n  static propTypes = {\r\n    onSubmit: PropTypes.func.isRequired,\r\n  };\r\n\r\n  state = {\r\n    value: \"\",\r\n  };\r\n\r\n  handleChange = (e) => {\r\n    this.setState({\r\n      value: e.target.value,\r\n    });\r\n  };\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    const { onSubmit } = this.props;\r\n    const { value } = this.state;\r\n    onSubmit(value);\r\n    this.setState({\r\n      value: \"\",\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { value } = this.state;\r\n    return (\r\n      <form onSubmit={this.handleSubmit}>\r\n        <input value={value} onChange={this.handleChange} />\r\n        <button type=\"submit\">Search</button>\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SeacrhBar;","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport * as API from \"../../services/api\";\r\nimport PropTypes from \"prop-types\";\r\nimport Searchbar from \"../SearchBar/SearchBar\";\r\n\r\nclass Movies extends Component {\r\n  static propTypes = {\r\n    match: PropTypes.shape({\r\n      url: PropTypes.string.isRequired,\r\n      params: PropTypes.shape({\r\n        movieId: PropTypes.string,\r\n      }),\r\n    }).isRequired,\r\n    history: PropTypes.shape({\r\n      push: PropTypes.func,\r\n    }).isRequired,\r\n    location: PropTypes.shape({\r\n      search: PropTypes.string.isRequired,\r\n      state: PropTypes.shape({\r\n        from: PropTypes.shape({}),\r\n      }),\r\n    }).isRequired,\r\n  };\r\n\r\n  state = {\r\n    movies: [],\r\n    error: null,\r\n  };\r\n\r\n  componentDidMount() {\r\n    const { location } = this.props;\r\n\r\n    if (location.search) {\r\n      const searchParams = new URLSearchParams(location.search).get(\"query\");\r\n      this.onSearch(searchParams);\r\n    }\r\n  }\r\n\r\n  onSearch = (query) => {\r\n    API.fetchMovieByQuery(query)\r\n      .then((res) => {\r\n        this.setState({\r\n          movies: res.data.results,\r\n        });\r\n        const { location, history } = this.props;\r\n        history.push({\r\n          ...location,\r\n          search: `query=${query}`,\r\n        });\r\n      })\r\n      .catch((err) =>\r\n        this.setState({\r\n          error: err.message,\r\n        })\r\n      );\r\n  };\r\n\r\n  render() {\r\n    const { movies, error } = this.state;\r\n    const { match, location } = this.props;\r\n\r\n    return (\r\n      <div>\r\n        <Searchbar onSubmit={this.onSearch} />\r\n        {error && <h2>Today is not a good day</h2>}\r\n        {movies.length > 0 && (\r\n          <ul>\r\n            {movies.map((movie) => (\r\n              <li key={movie.id}>\r\n                <Link\r\n                  to={{\r\n                    pathname: `${match.url}/${movie.id}`,\r\n                    state: { from: { ...location } },\r\n                  }}\r\n                >\r\n                  {movie.title}\r\n                </Link>\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Movies;","import axios from \"axios\";\r\n\r\nconst BASE_URL = \"https://api.themoviedb.org/3\";\r\nconst API_KEY = \"4c723f08ea7a4a76125776c3387f72cf\";\r\n\r\nexport const imageURLBaseWidth200 = \"https://image.tmdb.org/t/p/w200\";\r\nexport const imageURLBaseWidth300 = \"https://image.tmdb.org/t/p/w300\";\r\n\r\nexport const fetchMostPopularMovies = () => {\r\n  return axios.get(`${BASE_URL}/trending/movie/day?api_key=${API_KEY}`);\r\n};\r\n\r\nexport const fetchMovieByQuery = (query) => {\r\n  return axios.get(\r\n    `${BASE_URL}/search/movie?api_key=${API_KEY}&query=${query}`\r\n  );\r\n};\r\n\r\nexport const fetchDetailsAboutMovie = (id) => {\r\n  return axios.get(`${BASE_URL}/movie/${id}?api_key=${API_KEY}`);\r\n};\r\n\r\nexport const fetchMovieCast = (id) => {\r\n  return axios.get(`${BASE_URL}/movie/${id}/credits?api_key=${API_KEY}`);\r\n};\r\n\r\nexport const fetchMovieReviews = (id) => {\r\n  return axios.get(`${BASE_URL}/movie/${id}/reviews?api_key=${API_KEY}`);\r\n};","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}"],"sourceRoot":""}